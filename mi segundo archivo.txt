modificado para verificar estado modificado